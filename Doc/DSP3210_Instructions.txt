ADD INSTRUCTION: 	rD = {[(long)], (short)} rS3 + N 		(1)		[if(COND)] rD= {[(long)], (short)} rS1 + rS2 	(2) 		[if(COND)] rD= {[(long)], (short)} rS * 2 	(3)		[if(COND)] rD= {[(long)], (short)} rS 		(4) 		CLASS: CA-Arithmetic/Logic CAU FLAGS AFFECTED: nzvc DESCRIPTION These instructions perform integer add operations. The items in brackets [ ] are optional. A 32-bit operation, (long), is the default size and does not have to be specified. (short) indicates that a 16-bit operation is desired. A (short) operation sign extends the result from bit 15 to bit 31. Flags are set according to the 16- or 32-bit operation flag rules (see Table 4-1), as specified by the instruction. If the instruction is conditionally executed and the COND is true, the result is placed in the register rD, and the flags are set. If the instruction is conditionally executed and the COND is false, neither the register rD nor the flags areaffected.(1) is a three-operand add instruction with an immediate operand. The contents of rS are added to a value N, and the result is placed in rD. N is a 16-bit 2's complement number that is MSB-extended to 32 bits. This instruction is useful in computing addresses by the base plus displacement technique.(2) is a 3-register add instruction. The contents of register rS1 and register rS2 are added, and the result is placed in register rD.(3) is a multiply by 2 instruction. This instruction multiplies the contents of register rS by two, and the result is placed in register rD. This instruction is performed by adding rS to itself (rS+rS). This instruction should be used for a left shift by 1 when setting of the carry flag is desired.(4) is an assignment instruction. This instruction assigns the contents of register rS to the register rD. Theoperation actually performed is rD = rS+r0. Instruction Replacement Table Term  		Replacement 	Meaning rD 		r0-r22 		r0 (hard-wired zero), or one of 22 CAU registers rS, rS1,rS2 	r0-r22 		r0 (hard-wired zero), or one of 22 CAU registers N 		16-bit number	2's complement integer rS3 		r0-r22,pc,pcsh	r0 (hard-wired zero), or one of 22 CAU registers, 				the program counter, or the program counter shadow register Replacement Table for CA Instructions	(COND) - CAU Conditions Condition 	Flag* 		Meaning false 		Notapplicable	Condition is always false. true 		Notapplicable 	Condition is always true. pl 		n=0		Result is non negative (plus) mi 		n=1 		Result is negative (minus) ne 		z=0 		Result not equal to zero eq 		z=1 		Result equal to zero vc 		v=0 		Overflow clear, no overflow vs 		v=1 		Overflow set, overflowed cc 		c=0 		Carry clear, no carry cs 		c=1 		Carry set, carry ge 		n^v=0 		Greater than or equal to zero lt		n^v=1 		Less than zero gt 		z|(n^v)=0   	Greater than zero le 		z|(n^v)=1 	Less than or equal to zero hi    		c|z=0 		Greater than (unsigned number) ls 		c|z=1 		Less than (unsigned number) * Symbol interpretation: ^ = XOR; | = OR Replacement Table for CA Instructions (COND) - DAU Conditions Condition 	Flag 		Meaning ane 		Z=0 		Not equal to zero aeq 		Z=1 		Equal to zero age 		N=0 		Greater than or equal to zero alt 		N=1 		Less than zero avc 		V=0 		Overflow clear, no overflow avs 		V=1 		Overflow set, overflowed auc 		U=0 		Underflow clear, no underflow aus 		U=1 		Underflow set, underflowed agt 		N|Z=0 		Greater than zero ale 		N|Z=1 		Less than or equal to zero Replacement Table for CA Instructions	(COND) - IO Conditions Condition 	Flag 		Meaning ibe 		ibf=0 		Input buffer empty ibf 		ibf=1 		Input buffer full obe 		obe=1 		Output buffer empty obf 		obe=0 		Output buffer full syc 		sy=0 		Sync signal low sys 		sy=1 		Sync signal high fbc 		fb=0 		Serial frame boundary clear fbs 		fb=1 		Serial frame boundary set irOs 		iron=1 		IR0N pin is logic one (1). irOc 		iron=0 		IR0N pin is logic zero (0). ir1s 		ir1n=1 		IR1N pin is logic one (1). ir1c   		ir1n=0 		IR1N pin is logic zero (0). LATENCY A DAU condition tested by a conditional branch or conditional arithmetic/logic instruction is established by the last DA instruction that affects DAU flags no sooner than four instructions prior to the test.ADD-CARRYREV INSTRUCTION: 	rD = {[(long)], (short)} rD # N 		(1)		[if(COND)] rD= {[(long)], (short)} rS1 # rS2 	(2) 		CLASS: CA-Arithmetic/Logic CAU FLAGS AFFECTED: nzc, v=0 DESCRIPTION These instructions perform carry reverse ADD operations, i.e., an ADD operation with the carry propagating from MSB to LSB. The items in brackets [ ] are optional. A 32-bit operation, (long), is the default size and does not have to be specified. (short) indicates that a 16-bit operation is desired. The (short) operation propagates the carry from bit 15 to bit 0 and sign extends the result from bit 15 to bit 31. Flags are set according to the 16- or 32bit operation flag rules (see Table 4-1), as specified by the instruction.(1) This instruction performs a carry reverse add operation on the contents ofregisterrD with the value N and the result is placed in the register rD. N is a 16-bit 2's complement number MSB-extended to 32-bits.(2) This instruction performs a carry reverse add operation on the contents of register rS1 with the contents of register rS2, and the result is placed in the register rD. If the instruction is conditionally executed and the COND is true, the result of the operation on rS1 and rS2 is placed in the register rD, and the flags are set. If the instruction is conditionally executed and the COND is false, neither the register rD nor the flags are affected. The COND field is the same as for the add operations (See ADD). When rS1 = rS2 (rS), this instruction performs a right shift by one binary place and the LSB of rS is placed in the c flag. Instruction Replacement Table Term 	Replacement 	Meaning rD 	r0-r22 		r0 (hard-wired zero), or one of 22 CAU registers rS1,rS2	r0-r22 		r0 (hard-wired zero), or one of 22 CAU registers N 	16-bit number 	2's complement integer AND INSTRUCTION: 	rD = {[(long)], (short)} rD & N 		(1) 		[if(COND)] rD= {[(long)], (short)} rS1 & rS2 	(2) CLASS: CA-Arithmetic/Logic CAU FLAGS AFFECTED: nz, v=c=0 DESCRIPTION These instructions perform bit-by-bit, logical AND operations. The items in brackets [ ] are optional. A 32-bit operation, (long), is the default size and does not have to be specified. (short) indicates that a 16-bit operation is desired. Flags are set according to the 16- or 32-bit operation flag rules, as specified by the instruction. (1) This instruction performs a bit-by-bit, logical AND operation on the contents of register rD with the value N and the result is placed in the register rD. N is a 16-bit 2's complement number that is MSB-extended to 32bits.(2) This instruction performs a bit-by-bit, logical AND operation on the contents of registerrS1with the contents of register rS2, and the result is placed in the register rD. If the instruction is conditionally executed and the COND is true, the result of the operation on rS1 and rS2 is placed in the register rD, and the flags are set. If the instruction is conditionally executed and the COND is false, neither the register rD nor the flags are affected. The COND field is the same as for the add operations. Instruction Replacement Table Term 	Replacement 	Meaning rD 	r0-r22 		r0 (hard-wired zero), or one of 22 CAU registers rS1,rS2 r0-r22 		r0 (hard-wired zero), or one of 22 CAU registers N 	16-bit number 	2's complement integer AND-COMPLEMENT INSTRUCTION: 	[if (COND)] rD={[(long)], (short)} rS1 &~ rS2 CLASS: CA-Arithmetic/Logic CAU FLAGS AFFECTED: nz, v=c=0 DESCRIPTION This instruction performs a bit-by-bit, logical AND operation on the contents of register rS1 with the complement of the contents of register rS2. The result is placed in the register rD. The items in thebrackets [ ] are optional. A 32-bit operation, (long), is the default size and does not have to be specified. (short) indicates that a16-bit operation is desired. For the (short) operation, the result is signextended from bit 15 to bit 31. Flags are set according to the 16-or 32-bit operation flag rules (see Table 4-1), as specified by the instruction. If the instruction is conditionally executed and the COND is true, the result is placed in the register rD, and the flags are set. If the instruction is conditionally executed and the COND is false, neither the register rD nor the flags are affected. The COND field is the same as for the add operations.Instruction Replacement Table Term 	Replacement 	MeaningrD 	r0r22 		r0 (hard-wiredzero), or one of 22 CAU registers rS1,rS2 r0r22 		r0 (hard-wiredzero), or one of 22 CAU registers N  	16-bit number 	2'scomplement integer BITTEST INSTRUCTION: 	{[(long)], (short)} rD & N 			(1)		[if(COND)] {[(long)], (short)} rS1 & rS2	(2) CLASS: CA-Arithmetic/Logic CAU FLAGS AFFECTED: nz, v=c=0 DESCRIPTION These instructions perform bit-by-bit, logical AND operation, but the results are not stored. These instructions can be used for bit tests. The items in brackets [ ] are optional. A 32-bit operation, (long), is the default size and does not have to be specified. (short) indicates that a 16-bit operation is desired. Flags are set according to the 16- or 32-bit operation flag rules (see Table 4-1), as specified by the instruction. (1) This instruction performs a bit-by-bit, logical AND operation on the contents of register rD with the valueN. N is a 16-bit 2's complement number that is MSB-extended to 32bits.(2) This instruction performs a bit-by-bit, logical AND operation on thecontents of register rS1 with the contents of register rS2. If the instruction is conditionally executed and the COND is true, the flags are set. If the instruction is conditionally executed and the COND is false, the flags are not affected. The COND field is the same as for the add operations. Instruction Replacement Table Term 	Replacement 	Meaning rD 	r0r22 		r0 (hard-wired zero), or one of 22 CAU registers rS1,rS2	r0r22 		r0 (hard-wired zero), or one of 22 CAU registers N 	16-bit number 	2's complement integer CALL INSTRUCTION: 	call (N, M, rB,rB+NHrM) CLASS: CA-Control CAU FLAGS AFFECTED: None DESCRIPTION This instruction transfers control of the program counter (pc) to a location specified in the braces (). When this instruction is executed, the value of the program counter (pc) is stored in the specified rM register, and the value in the braces {} is moved to the pc. Register rM contains the address of the instruction that follows the latent instruction. The values in the braces 0 specify an address N (16-bit MSB extended to 32-bits), an address M (24bit zero extended to 32-bits), a CAU register rB, or a value in a CAU register rB plus a displacement value N (16bit MSB extended to 32-bits). N is always 16 bits and is sign-extended to 32 bits for all operations. M is 24-bits and is zero-extended to 32-bits. When using pc as rB, the syxtax: "pccall label" may be used to perform a pc-relative subroutine call. The linker will compute the appropriate N (offset) value. The call M (rM) instruction is a format 8c instruction. All others are format 4a. This instruction disables interrupts for one instruction cycle.Instruction Replacement Table Term 		Replacement 	Meaning rB 		pc, r0r22 	The program counter, r0 (hard-wired zero), 				or one of 22 CAU registers rM 		r1r22 		One of 22 CAU registers N 		16-bit number	2's complement integer M 		24-bit number	Unsigned integer LATENCY When the above instruction is executed, the instruction immediately following is also executed before the branch occurs. For details on latency effects refer to Section 4.4.2. COMPARE INSTRUCTION: 	{[(long)],(short)} rD -N 			(1)		[if(COND)] {[(long)]1(short)} rS1 - rS2 	(2) CLASS: CA-Arithmetic/Logic CAU FLAGS AFFECTED: nzvc DESCRIPTION These instructions perform subtract operations, but the results are not stored. These instructions are used incompare operations. The items in brackets [ ] are optional. A 32-bit operation, (long), is the default size and does not have to be specified. (short) indicates that a 16-bit operation is desired. A (short) operation sign extends the result from bit 15 to bit 31. Flags are set according to the 16- or 32-bit operation flag rules, as specified by the instruction.(1) This instruction subtracts the value N from the contents of register rD. N is a 16-bit, 2's complement number that is MSB-extended to 32bits. (2) This instruction subtracts the contents of register rS2 from register rS1. If the instruction is conditionally executed and the COND is true, the flags are set. If the instruction is conditionally executed and the COND is false, the flags are not affected. The COND field is the same as for the add operations.Instruction Replacement Table Term 		Replacement 	Meaning rD 		r0-r22 		r0 (hard-wired zero), or one of 22 CAU registers rS1,rS2 	r0-r22 		r0 (hard-wired zero), or one of 22 CAUregisters N 		16-bitnumber 	2's complement integer DO INSTRUCTION: 	do K,{L,rM} 		(1) 		dolock K,{L,rM} 	(2) 		doblock {L,rM} 		(3) CLASS: CA-Control CAU FLAGS AFFECTED: None DESCRIPTION This instruction performs the next K + 1 instructions L + 1 (or rM + 1) times. The argument K is an integer from 0 to 127. The second argument can either be a register rM, or a value from 0 to 2047. If a register rM is specified, only the lower 11 bits of the register are used to specify the loop count. When K=0, the instruction to be repeated is cached on-chip for the duration of the do loop. This eliminates the repeated fetch of the same instruction. (1) The do instruction initiates a do loop sequence. DMAcyclesand interrupts are supported during doloops. For interrupts, the iteration and instruction count registers areshadowed.(2) The dolock instruction is used to assert an external control signal, LOCKN, for the duration of the do loop. Interrupts and DMA cycles are disabled during a dolock sequence.(3) The doblock instruction is used to decompose a block move into quad-word transfers. At the beginning ofeach quad-word, the BLMN signal is asserted and the MSO-MS3 pins indicate a quad-word transfer size (Notethat BLMN and MSO-MS3 are configurable, see Section 6.1 - Bus Interface Signal Descriptions). The onlyinstruction allowed following the doblock instruction is a0=(Z=Y)"a0, therefore K = 0 is implicit. At thecompletion of the do block sequence, the DAU flags are undefined. Interrupts and DMAs are disabled during each quad word transfer. Instruction Replacement Table Term 	Replacement 	Meaning K 	0-127 		Immediate value from 0 to 127 L 	0-2047 		Immediate value from 0 to 2047 rM 	r1-r22 		One of 22 CAU registers LATENCY The do, dolock, and doblock instructions have no latency properties. Instructions encompassed by a do loopexecute with the same latencies and restrictions therefore interactions between the last instruction of the loop and the first instruction of the loop should be carefully inspected. DSP INSTRUCTION: 	[Z =]aN = dsp(Y) CLASS: DA-Special Function DAU FLAGS AFFECTED: NZVU DESCRIPTION This instruction converts the Y operand, an IEEE format 32-bit floating-point number,to a DSP3210 format floating-point number,and the result is placed in anaccumulator(aN). If the exponent of the IEEE number is 255, it is treated as positive or negative infinity according to its sign. If positive, the converted DSP3210 number is the largest positive representable number in the DSP3210 format, namely Ox7fffffff. If negative, the converted DSP3210 number is the most negative number representable in the DSP3210 format, namely 0x800000ff. If the exponent of the IEEE number is zero, the converted DSP3210 number is Ox00000000,or positive zero. The DSP3210 format does not recognize a negative zero. The denormalized IEEE numbers are not supported. If the IEEE format input operandis NaN(not a number), the NaN error condition is set. If a Z field is specified, the result is also stored to a word address in memory. Note that the Y operand cannot come from an accumulator. IEEE-to-DSP Conversion Special Cases					Flagsy(*) 			aN 		ZNUV NaN 	Comments s=0;exp=255;mant=0	0x7fffffff 	0001 0		Treated as +oo s=1;exp=255;mant=0 	0x800000ff	0100 0 		Treated as -oo s=0;exp=255;mant<>0 	0x7fffffff 	0001 1 		Non-zero mantissa treated as +OO s=1;exp=255;mant<>0 	Ox800000ff	0101 1 		Non-zero mantissa treated as -OO s=0;exp=0;mant<>0 	0x00000000	1010 0 		Denormalized number treated as zero s=1;exp=0;mant<>0 	0x00000000	1010 0 		Denormalized number treated as zero (*)s = sign bit; exp = exponent; mant=mantissa Instruction Replacement Table Replace		Value 		MeaningaN 		a0-a3 		One of the four DAU accumulators Y 		*rP, *rP++ 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,*rP++rl 	rP refers to r1-14 and is used as a memory pointer.				rl refers to r15-19 and is used as an increment register. Z 		*rP,*rP++, 	32-bit memory location. ++ is +4 and -- is -4.		*rP--,*rP++rl 	rP refers to r1-14 and is used as a memory pointer.				rl refers to r15-19 and is used as an increment register. 				EXCLUSIVE OR INSTRUCTION: 	rD = {[(long)],(short)} rD A N 			(1) 		[if(COND)] rD= {[(Iong),(short)]} rS1 ArS2 	(2) CLASS: CA-Arithmetic/Logic CAU FLAGS AFFECTED: nz,v=c=-0 DESCRIPTION These instructions perform bit-by-bit, logical XOR (exclusive OR) operations. The items in brackets [ ] areoptional. A 32-bit operation, (long), is the default size and does not have to be specified. (short) indicates that a 16-bit operation is desired. Flags are set according to the 16- or 32-bit operation flag rules, as specified by the instruction.(1) This instruction performs a bit-by-bit, logical XOR operation on the contents of register rD with the value N and the result is placed in the register rD. N is a 16-bit 2's complement number that is MSB-extended to 32bits.(2) This instruction performs a bit-by-bit, logical XOR operation on the contents of register rS1 with the contents of register rS2, and the result is placed in the register rD. If the instruction is conditionally executed and the COND is true, the result of the operation on rS1 and rS2 is placed in the register rD, and the flags are set. If the instruction is conditionally executed and the COND is false, neither the register rD nor the flags are affected. The COND field is the same as for the add operations.Instruction Replacement Table Term 	Replacement 	MeaningrD 	r0-r22 		r0 (hard-wired zero), or one of 22 CAU registers rS1,rS2	r0-r22 		r0 (hard-wired zero), or one of 22 CAU registers N 	16-bit number 	2's complement integer FADD-STOR INSTRUCTION: 	[Z =] aN = [-] Y {+,-} X CLASS: DA-Multiply/Accumulate DAU FLAGS AFFECTED: NZVU DESCRIPTION In this instruction, the operand specified by the X field is added to or subtracted from the operand or minus the operand specified by the Y field and the result is stored in an accumulator (aN). If a Z field is specified, the result is also be stored to a word address in memory. The operation actually performed is [Z =] aN = [-] Y {+,-} 1.0 * X. Instruction Replacement Table Replace 	Value 		Meaning aN 		a0 a3 		One of the four DAU accumulators X, Y 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,*rP++rl, 	rP refers to r1-14 and is used as a memory pointer.				rl refers to r15-19 and is used as an increment register. 		a0-a3 		One of the four DAU accumulators. Z 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,trP++rl 	rP refers to r1-14 and is used as a memory pointer. 				rl refers to r15-19 and is used as an increment register.   FADD-TAP INSTRUCTION: 	aN = [-] (Z=Y) {+,-}X CLASS: DA-Multiply/Accumulate DAU FLAGS AFFECTED: NZVU DESCRIPTION In this instruction, the operand specified by the X field is added to or subtracted from the operand specified by the Y field. The result or minus the result is stored in an accumulator (aN). The value of the Y operand is stored to a word address in memory. The operation actually performed is: aN = (Z=Y) {+,-} 1.0 * X. Replace 	Value 		Meaning aN 		a0 a3 		One of the four DAU accumulators X, Y 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,*rP++rl, 	rP refers to r1-14 and is used as a memory pointer.				rl refers to r15-19 and is used as an increment register. 		a0-a3 		One of the four DAU accumulators. Z 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,trP++rl 	rP refers to r1-14 and is used as a memory pointer. 				rl refers to r15-19 and is used as an increment register.  FLOAD-STOREINSTRUCTION: 	[Z =] aN = [-]Y CLASS: DA-Multiply/Accumulate DAU FLAGS AFFECTED: NZVU DESCRIPTION This instruction places the operand or minus the operand specified by the Y field into an accumulator(aN). If a Z field is specified, the result is also be stored to a word address in memory. The operation actually performed is [Z=]aN= [-]Y+0.0 * a0. If the Y operand is not a valid DSP3210 floating-point number, it will be treated as a dirty-zero and the accumulator will be loaded with zero. To perform memory-to-memory transfers use FMULT-TAP.Replace 	Value 		Meaning aN 		a0 a3 		One of the four DAU accumulators Y 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,*rP++rl, 	rP refers to r1-14 and is used as a memory pointer.				rl refers to r15-19 and is used as an increment register. 		a0-a3 		One of the four DAU accumulators. Z 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,trP++rl 	rP refers to r1-14 and is used as a memory pointer. 				rl refers to r15-19 and is used as an increment register. FLOAT16 INSTRUCTION: [Z =] aN = float16(Y) CLASS: DA-Special Function DAU FLAGS AFFECTED: NZ,V=U=0 DESCRIPTION This instruction converts the 16-bit 2's complement integer operand specified by the Y field to the equivalent 32-bit floating-point representation. The result is stored in an accumulator (aN). The integer operand Y can specify a 16-bit memory location or an accumulator. When the post-increment or post-decrement addressing mode is used for the Y operand the value of the modifier is +2 or -2, respectively. If a Z field is specified, the result is also stored to a word address in memory.Instruction Replacement Table Replace 	Value 		MeaningaN 		a0 a3 		One of the four DAU accumulatorsY 		*rP, *rP++,	16-bit memory location. ++ is +2 and -- is -2.		*rP--, *rP++rl, rP refers to r1-14 and is used as a memory pointer.				rl refers to r15-19 and is used as an increment register.		a0 a3 		One of the four DAU accumulators.Z 		*rP, *rP++,	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,*rP++rl 	rP refers to r1-14 and is used as a memory pointer. 				rl refers to r15-19 and is used as an increment register.FLOAT32 INSTRUCTION: [Z =] aN = float32(Y) CLASS: DA-Special Function DAU FLAGS AFFECTED:NZ,V=U=0 DESCRIPTION This instruction converts the 32-bit integer operand Y to the equivalent 32-bit floating-point representation. The result is stored in the accumulator aN and may optionally be written to memory. The 32-bit integer operand Y is located in a 32-bit memory location. If a Z field is specified, the result is stored to a word address in memory.Replace 	Value 		Meaning aN 		a0 a3 		One of the four DAU accumulators Y 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,*rP++rl, 	rP refers to r1-14 and is used as a memory pointer.				rl refers to r15-19 and is used as an increment register. 		a0-a3 		One of the four DAU accumulators. Z 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,trP++rl 	rP refers to r1-14 and is used as a memory pointer. 				rl refers to r15-19 and is used as an increment register.FMULT-ACC-STORE INSTRUCTION: [Z =] aN = [-] aM {+,- }Y*X CLASS: DA-Multiply/Accumulate DAU FLAGS AFFECTED: NZVU DESCRIPTION This instruction multiplies the operands specified by the X and Y fields. This product is then added to or subtracted from the contents or minus the contents of an accumulator (aM), and the result is stored in an accumulator (aN). If the Z field is specified, the result is also stored to a word address in memory.Replace 	Value 		Meaning aN 		a0 a3 		One of the four DAU accumulators X, Y 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,*rP++rl, 	rP refers to r1-14 and is used as a memory pointer.				rl refers to r15-19 and is used as an increment register. 		a0-a3 		One of the four DAU accumulators. Z 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,trP++rl 	rP refers to r1-14 and is used as a memory pointer. 				rl refers to r15-19 and is used as an increment register. FMULT-ACC-TAP INSTRUCTION: aN = [-] aM {+,-} (Z=Y) * X CLASS: DA-Multiply/Accumulate DAU FLAGS AFFECTED: NZVU DESCRIPTION This instruction multiplies the operands specified by the X and Y fields. The result of the multiplication (Y * X) is added to or subtracted from the contents of an accumulator (aM), and the result is stored in an accumulator (aN). The value of the Y field operand is stored to a word address in memory.Replace 	Value 		Meaning aN 		a0 a3 		One of the four DAU accumulators X, Y 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,*rP++rl, 	rP refers to r1-14 and is used as a memory pointer.				rl refers to r15-19 and is used as an increment register. 		a0-a3 		One of the four DAU accumulators. Z 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,trP++rl 	rP refers to r1-14 and is used as a memory pointer. 				rl refers to r15-19 and is used as an increment register. FMULT-ADD-STORE INSTRUCTION: [Z =] aN= [-] Y {+,-} aM * X CLASS: DA-Multiply/Accumulate DAU FLAGS AFFECTED: NZVU DESCRIPTION This instruction multiplies the operand specified by the X field with the contents of an accumulator (aM). This product is then added to or subtracted from the operand or minus the operand specified by the Y field and the result is stored in an accumulator (aN). If the Z field is specified, the result is also stored to a word address in memory. Replace 	Value 		Meaning aN 		a0 a3 		One of the four DAU accumulators X, Y 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,*rP++rl, 	rP refers to r1-14 and is used as a memory pointer.				rl refers to r15-19 and is used as an increment register. 		a0-a3 		One of the four DAU accumulators. Z 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,trP++rl 	rP refers to r1-14 and is used as a memory pointer. 				rl refers to r15-19 and is used as an increment register. FMULT-STORE INSTRUCTION: 	[Z =] aN= [-] Y*X CLASS:DA-Multiply/Accumulate DAU FLAGS AFFECTED: NZVU DESCRIPTION This instruction multiplies the operands specified by the X and the Y fields. The product or minus the product is stored in an accumulator (aN). If the Z field is specified, the result is also stored to a word address in memory.The operation actually performed is [Z=] aN = 0.0 {+,-} Y * X Replace 	Value 		Meaning aN 		a0 a3 		One of the four DAU accumulators X, Y 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,*rP++rl, 	rP refers to r1-14 and is used as a memory pointer.				rl refers to r15-19 and is used as an increment register. 		a0-a3 		One of the four DAU accumulators. Z 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,trP++rl 	rP refers to r1-14 and is used as a memory pointer. 				rl refers to r15-19 and is used as an increment register. FMULT-TAP INSTRUCTION: 	aN = [-] (Z=Y) * X CLASS: DA-Mulitply/Accumulate DAU FLAGS AFFECTED: NZVU DESCRIPTION This instruction multiplies the operands specified by the X and Y fields. The product Y * X or minus the product is stored in an accumulator (aN). The value of the Y operand is stored to a word address in memory. The operation actually performed is: aN = 0.0 {+,-} (Z=Y) * X. This instruction can be used for 32-bit memory-to memory transfers of arbitrary data, e.g. a0 = (Z=Y) * a0. Replace 	Value 		Meaning aN 		a0 a3 		One of the four DAU accumulators X, Y 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,*rP++rl, 	rP refers to r1-14 and is used as a memory pointer.				rl refers to r15-19 and is used as an increment register. 		a0-a3 		One of the four DAU accumulators. Z 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,trP++rl 	rP refers to r1-14 and is used as a memory pointer. 				rl refers to r15-19 and is used as an increment register. GOTO INSTRUCTION: 	goto {N, M, rB, rB+N,rB+M} CLASS:CA-Control CAU FLAGS AFFECTED: None DESCRIPTION This instruction is an unconditional goto. When executed, the specified value in the braces {} is moved to the program counter (pc). The values in the braces {} specify either an address N (16-bit MSB extended to 32-bits), an address M (24-bit zero-extended to 32-bits), a CAU register rB, a value in a CAU register rB plus a displacement value N (16-bit MSB extended to 32-bits), or a value in a CAU register rB plus a displacement value M (24-bit zero extended to 32-bits). N is always 16 bits and is sign-extended to 32 bits for all operations. M is always 24-bits and it zero-extended to 32-bits. The goto M instruction is a format 8a instruction. The remaining instructions are encoded as format 0-1b, special cases of the if (COND) goto instruction. In this case, the branch is always taken. When using pc as rB, the syntax"pcgoto label" may be used to perform a pc-relative branch. The linker will compute the appropriate N (offset) value. This instruction disables interrupts for one instruction cycle. Instruction Replacement Table Term 	Replacement 	MeaningrB 	pc, r0-r22 	The program counter, r0 (hard-wired zero), or one of 			22 general-purpose registers. N 	16-bit number	2's complement integer M 	24-bit number	Unsigned integer LATENCY When the above instruction is executed, the instruction immediately following is also executed before thebranch occurs. Normally, a nop is placed after the branch instruction. GOTO-CON INSTRUCTION: 	if(COND) goto {N, rB, rB+N} CLASS:CA-Control CAU FLAGS AFFECTED: None DESCRIPTION This instruction is a conditional branch instruction that depends on the values of the flags. The condition(CAU COND, DAU COND, or IO COND) is selected from the tables below. CAU COND flags are established by the previous CA instruction that set flags. DAU COND flags are established by the most recent DA instruction that occurs four or more instructions prior to the condition test. IO COND flags can be affected by external events, and program or DMA activity. If the condition evaluates true, the value of the program counter (pc) is replaced with one of the values specified in the braces (). These values include a CAU register rB, an address N(MSB extended), or a value in a CAU register rB plus a displacement value N (MSB extended). N is a 16-bit 2's complement number and is MSB-extended to 32 bits. When using pc as rB, the syxtax:	if (COND) pcgoto labelmay be used to perform a pc-relative branch. The linker will compute the appropriate N (offset) value. Thisinstruction disables interrupts for one instruction cycle.Instruction Replacement Table Term 	Replacement 	MeaningrB 	pc, r0-r22 	The program counter, r0 (hard-wired zero), or one of 			22 general-purpose registers. N 	16-bit number	2's complement integer LATENCY When the above instruction is executed, the instruction immediately following is also executed before the branch occurs. A DAU condition tested by a conditional branch or conditional arithmetic/logic instruction is established by the last DA instruction that affects DAU flags no sooner than four instructions prior to the test. GOTO-LOOP INSTRUCTION: 	if(rM-- >=0) goto {N, rB, rB+N} CLASS:CA-Control CAU FLAGS AFFECTED: None DESCRIPTION This instruction is primarily used as a loop counter. The value of rM is treated as a 32-bit number and isdecremented each time the instruction is executed. If the value of rM is greater than or equal to zero, the value of the pc changes to one of the specified locations in the braces {}. If rM is less than zero, the next instruction is executed. The values in the braces {} specify a CAU register rB, an address N (MSB extended) or a value in a CAU register rB plus a displacement value N (MSB extended). N is always 16 bits and is sign-extended to 32 bits for all operations. When using pc as rB, the syxtax:	if (rM- >=0) pcgoto labelmay be used to perform a pc-relative branch. The linker will compute the appropriate N (offset) value. Thisinstruction disables interrupts for one instruction cycle.Instruction Replacement Table Term 	Replacement 	MeaningrB 	pc, r0-r22 	The program counter, r0 (hard-wired zero), or one of 			22 general-purpose registers.rM 	r1-r22 		One of 22 CAUregisters.			 N 	16-bit number	2's complement integer LATENCY When the above instruction is executed, the instruction immediately following is also executed before the branch occurs. IC INSTRUCTION: [Z =] aN= ic(Y) CLASS:DA-Special Function DAU FLAGS AFFECTED:NZ,V=U=0 DESCRIPTION This instruction converts the operand specified by the Y field, an 8-bit µ-law, A-law, or unsigned word (depending on the value of the dauc register), to an equivalent 32-bit floating-point number. The result is stored in an accumulator (aN). The Y operand can specify a byte memory location or an accumulator. If Y specifies an accumulator, the 8-bit word must reside in the most significant byte of the accumulator. If a Z field is specified, the result is also stored to a word address in memory. Replace 	Value 		Meaning aN 		a0 a3 		One of the four DAU accumulators Y 		*rP, *rP++, 	8-bit memory location. ++ is +1 and -- is -1. 		*rP--,*rP++rl, 	rP refers to r1-14 and is used as a memory pointer.				rl refers to r15-19 and is used as an increment register. 		a0-a3 		One of the four DAU accumulators. Z 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,trP++rl 	rP refers to r1-14 and is used as a memory pointer. 				rl refers to r15-19 and is used as an increment register.IEEE INSTRUCTION: [Z =] aN = ieee(Y) CLASS:DA-Special Function DAU FLAGS AFFECTED: None DESCRIPTION This instruction converts the Y operand, a DSP32C format floating-point number, to an IEEE format, floating-point number. The Y operand can specify a memory location or an accumulator. If the exponent of the DSP32C number is zero, the converted IEEE number is 0x00000000 or positive zero. DSP32C to IEEE conversion never results in NaN (not a number). If a Z field is specified, the result is also stored to a word address in memory. In order to get the IEEE number correctly formatted in memory, the Z write must be performed in the instruction that specifies the ieee conversion. Replace 	Value 		Meaning aN 		a0 a3 		One of the four DAU accumulators Y 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,*rP++rl, 	rP refers to r1-14 and is used as a memory pointer.				rl refers to r15-19 and is used as an increment register. 		a0-a3 		One of the four DAU accumulators. Z 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,trP++rl 	rP refers to r1-14 and is used as a memory pointer. 				rl refers to r15-19 and is used as an increment register.IFAEQ INSTRUCTION: [Z =] aN= ifaeq(Y) CLASS:DA-Special Function DAU FLAGS AFFECTED: None DESCRIPTION This instruction stores the Y operand in accumulator aN only if the result of themost recent DA instruction is equal to zero. If it is not zero, aN will retain its old value. Regardless, the Y address calculations are performed (register postmodification is performed if specified). The Y operand can specify a word memory location or an accumulator. Based on dauc[6], the Z-field operation can be conditional. If dauc[6]=0, the Z-field operation, if specified, is not conditional. Note that if the test fails, the previous value of aN is stored to memory. If dauc[6]= 1, the write to memory, if specified, is also conditional, but the address postmodifications are always performed. If written, the value of aN is stored to a word address in memory.Replace 	Value 		Meaning aN 		a0 a3 		One of the four DAU accumulators Y 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,*rP++rl, 	rP refers to r1-14 and is used as a memory pointer.				rl refers to r15-19 and is used as an increment register. 		a0-a3 		One of the four DAU accumulators. Z 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,trP++rl 	rP refers to r1-14 and is used as a memory pointer. 				rl refers to r15-19 and is used as an increment register.IFAGT INSTRUCTION: [Z =] aN= ifagt(Y) CLASS:DA-SpecialFunction DAU FLAGS AFFECTED: None DESCRIPTION This instruction stores the Y operand in accumulator aN if and only if the result of the most recent DA instruction is greater than zero. If it is not greater than zero, aN retains its old value. Regardless, the Y address calculations are performed (register postmodification is performed if specified). The Y operand can specify a word memory location or an accumulator. Based on dauc[6], the Z-field operation can be conditional. If dauc[6]=0, the Z-field operation, if specified, is not conditional. Note that if the test fails, the previous value of aN is stored to memory. If dauc[6]=1, the write to memory, if specified, is also conditional, but the address postmodifications are always performed. If written, the value of aN is stored to a word address in memory.Replace 	Value 		Meaning aN 		a0 a3 		One of the four DAU accumulators Y 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,*rP++rl, 	rP refers to r1-14 and is used as a memory pointer.				rl refers to r15-19 and is used as an increment register. 		a0-a3 		One of the four DAU accumulators. Z 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,trP++rl 	rP refers to r1-14 and is used as a memory pointer. 				rl refers to r15-19 and is used as an increment register.IFALT INSTRUCTION: [Z =] aN= ifalt(Y) CLASS:DA-SpecialFunction DAU FLAGS AFFECTED: None DESCRIPTION This instruction stores the Y operand in an accumulator (aN) only if the result of themost recent DA instruction is negative. If it is not negative, aN retains its old value. Regardless, the Y address calculations are performed (register postmodification is performed if specified). The Y operand can specify a word memory location or an accumulator. Based on dauc[6], the Z-field operation can be conditional. If dauc[6]=0, the Z-field operation, if specified, is not conditional. Note that if the test fails, the previous value of aN is stored to memory. If dauc[6]=1, the write to memory, if specified, is also conditional, but the address postmodifications are always performed. If written, the value of aN is stored to a word address in memory.Replace 	Value 		Meaning aN 		a0 a3 		One of the four DAU accumulators Y 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,*rP++rl, 	rP refers to r1-14 and is used as a memory pointer.				rl refers to r15-19 and is used as an increment register. 		a0-a3 		One of the four DAU accumulators. Z 		*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 		*rP--,trP++rl 	rP refers to r1-14 and is used as a memory pointer. 				rl refers to r15-19 and is used as an increment register.INCR/DEC INSTRUCTION: 	[if (COND)]rD1= {[(long)],(short)} rS {+,-} 1 	(1) 		[if (COND)] sp= [(long)] sp {++,--} 		(2) CLASS: CA-Arithmetic/Logic CAU FLAGS AFFECTED: nzvc 		(Incorrect? rx = rx + 1 -> No flags affected!)DESCRIPTION (1) This instruction increments or decrements the contents of register rS by 1 and places the result in register rD1 (can not be the stack pointer). The items in the brackets [ ] are optional. A 32-bit operation, (long), is the default size and does not have to be specified. (short) indicates that a 16-bit operation is desired. For the(short) operation, the result is sign extended from bit 15 to bit 31. Flags are set according to the 16- or 32-bit operation flag rules, as specified by the instruction. If the instruction is conditionally executed and the COND is true, the result is placed in the register rD, and the flags are set. If the instruction is conditionally executed and the COND is false, neither the register rD nor the flags are affected. The COND field is the same as for the add operations.(2)This instruction increments or decrements the contents of the register sp (stack pointer) by 4. The source register and the destination register are sp. The instruction can only be executed as 32-bits. This instruction disables interrupts for one instruction cycle. If the instruction is conditionally executed and the COND is true, the result is placed in the register sp, and the flags are set. If the instruction is conditionally executed and the COND is false, neither the register sp nor the flags are affected. The COND field is the same as for the add operations. Instruction Replacement Table Term 	Replacement 	MeaningrD1 	r0-r20,r22 	r0 (hard-wired zero), or one of 21 CAU registers rS  	r0-r22 		r0 (hard-wired zero), or one of 22 CAU registers INT16 INSTRUCTION: [Z =] aN = int16(Y) CLASS:DA-Special Function DAU FLAGS AFFECTED: None DESCRIPTION This instruction converts the floating-point operand Y to a 16-bit 2's complement integer. The conversion can be done using one of three modes specified by the dauc register bits 4 and 5: round to nearest (dauc[5-4] = 00), truncate towards -OO (dauc[5-4] = 10), or truncate towards zero (dauc[5-4] = 11). The default (on reset) value of dauc[5-4] = 00. The Y operand can specify an accumulator or a float memory location. The result is stored in the upper 16 bits of an accumulator (aN). The lower portion of aN contains unpredictable data. If the Y operand exceeds the range of allowable 16-bit integers (-2^15, 2^15 -1), the result is a saturated 16-bit integer. If a Z field is specified, the result is stored to a half-word address in memory. In order to write the 16-bit result to memory as a 16-bit write, the Z-write must be performed in this instruction. When the post-increment or the post-decrement addressing mode is used for the Z operand, the value of the modifier is +2 or -2, respectively.Instruction Replacement Table Replace Value 		Meaning aN 	a0-a3 		One of the four DAU accumulators Y 	*rP, *rP++, 	32-bit memory location. ++ is +4 and-- is -4. 	*rP--,*rP++rl, 	rP refers to r1-14 and is used as a memory pointer.			rl refers to r15-19 and is used as an increment register. 	a0-a3 		One of the four DAU accumulators. Z 	*rP, *rP++, 	16-bit memory location. ++ is +2 and -- is -2. 	*rP--,*rP++rl	rP refers to r1-14 and is used as a memory pointer. 			rl refers to r15-19 and is used as an increment register. INT32 INSTRUCTION: [Z =] aN = int32(Y) CLASS:DA-Special Function DAU FLAGS AFFECTED: None DESCRIPTION This instruction converts the floating-point operand Y to a 32-bit 2's complement integer. The conversion can be done using one of three modes specified by the dauc register bits 4 and 5: round to nearest (dauc[5-4] =00), truncate towards -co (dauc[5-4] =10), or truncate towards zero (dauc[5-4] = 11). The default (on reset) value of dauc[5-4] = 00. The Y operand can specify an accumulator or a 32-bit memory location. The result is stored in the 32 MSBs of an accumulator (aN), the mantissa, and guard bits. The remaining bits of aN contain unpredictable data. If the Y operand exceeds the range of allowable 32-bit integers (-2^31 , 2^31 - 1), the result is a saturated 32-bit integer. If a Z field is specified, the result is stored to a word address in memory. In order to get the result correctly formatted in memory, the Z-write must be performed in this instruction.Instruction Replacement Table Replace Value 		Meaning aN 	a0-a3 		One of the four DAU accumulators Y 	*rP, *rP++, 	32-bit memory location. ++ is +4 and-- is -4. 	*rP--,*rP++rl, 	rP refers to r1-14 and is used as a memory pointer.			rl refers to r15-19 and is used as an increment register. 	a0-a3 		One of the four DAU accumulators. Z 	*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 	*rP--,*rP++rl	rP refers to r1-14 and is used as a memory pointer. 			rl refers to r15-19 and is used as an increment register. IRETURN INSTRUCTION:	ireturn CLASS: CA-Control CAU FLAGS AFFECTED: Restored from interrupt shadow register DAU FLAGS AFFECTED: Restored from interrupt shadow register DESCRIPTION This instruction performs a return-from-interrupt operation. This operation consists of returning DSP3210 control to the point of interruption and restoring the internal registers from the shadow registers. This instruction is encoded and executes as if(true) gotopcsh. LATENCY Unlike other CA control group instructions, the ireturn instruction does not have to be followed by a nop, since the instruction following the ireturn in memory is not executed. The instruction that was fetched prior to the interrupt is executed in its place. LOAD INSTRUCTION: 	rD = {(char),(byte),(hbyte),(short),(ushort),[(long)]} MEM	(1)		rD = {(char),(byte),(hbyte),(short),(ushort),[(Iong)]} *L	(2) 		rD = {(char),(byte),(hbyte),(short),(ushort),[(Iong)]} iorS	(3)CLASS: CA -DataMove CAU FLAGS AFFECTED: None DESCRIPTION This instruction moves data from a memory location or 10 register specified on the right-hand side to a register rD. The default size of the transfer is (long) and does not have to be specified. The size of the transfer and the CAU register bits affected by the transfer are specified by the key words: (char), (byte), (hbyte), (short), (ushort), and (long). (char), (byte) and (hbyte) are 8-bit transfers. (char) loads bits 7-0 with the data and sign extends bit 7 to bit 31. (byte) loads bits 7-0 with the data and zero extends to bit 31. (hbyte) loads bits 15-8 with the data, and zeros bits 7-0 and 31-16. (short) and (ushort) are 16-bit transfers. (short) loads bits 15-0 with the data and sign extends to bit 31. (ushort) loads bits 15-0 with the data and zero extends to bit 31. (long) is a 32-bit transfer that loads bits 31-0 with the data (see below). This instruction disables interrupts for one instruction cycle.(1) This instruction moves data from a memory location addressed using the register indirect addressing mode to the register rD. Data can be referenced as 8-, 16-, or 32-bits. Post-incrementation or post-decrementation is a function of the data size (8-bit, ±1; 16-bit, ±2; 32-bit, ±4).(2) This instruction moves data from a memory location addressed using the direct addressing mode (*L) to the register rD. L is a 16-bit unsigned integer that is concatenated with the upper 16-bits representing the location of on-chip memory resources (0x0000 or 0x5003, based on pcw[10]) to form the address.(3) This instruction moves data from an IO register to the register rD. The size of the selected IO register and the transfer size must be the same. Destination CAU Register BitsAffected Type 	Size 	31-24 	23-16 	15-8 	7-0 	Description (byte) 	8 	0 	0 	0 	DATA 	Zero-extend to upper 24-bits (hbyte)	8 	0 	0 	DATA 	0 	Zero-fill bits 7-0, zero-extend upper 16-bits (char)	8 	S 	S 	S 	DATA	Sign-extend bit 7 to upper 24-bits (short)	16 	S 	S 	DATA 	DATA	Sign-extend bit 15 toupper 16-bits (ushort)16 	0 	0 	DATA 	DATA	Zero-extend to upper 16-bits (long)	32	DATA	DATA	DATA	DATA	Load bits 31-0. Instruction Replacement Table Term 	Replacement		MeaningrD 	r0-r22 			r0 (hard-wired zero), or one of 22 CAU registers MEM 	*rP, *rP++, *rP--,	8-, 16-, or 32-bit memory location. ++ and -- are a function of 	*rP++rl 		the datasize.				rP is a memory pointer (rP=r0-r22); when using the sp(r21),				the size of the transfer must be long.				rl is an increment register (rl = rO-r22). iorS 	ior0-ior15 		One of the IO registers. L 	16-bit number		Unsigned integer - used as a direct address RESTRICTIONThe CAU register loaded and the flags set as a result of the load cannot be referenced in the following instruction LOAD-IOR INSTRUCTION: 	iorD = {(byte),(short),[(long)]} MEM CLASS:CA-DataMove CAU FLAGS AFFECTED: None DESCRIPTION This instruction moves data from a memory location to an 1O register. The default size of the transfer is (long) and does not have to be specified. The size of the transfer and the 1O register bits affected by the transfer are specified by the key words: (byte), (short), and (long). (byte) is an 8-bit transfer that loads bits 7-0 with the data and does not affect bits 8 to bit 31. (short) is a 16-bit transfer that loads bits 150 with the data and does not affect bits 16 to 31. (long) is a 32-bit transfer that loads bits 31-0 with the data (see below).This instruction disables interrupts for one instruction cycle.Destination IO Register Bits Affected Type 	Size 	31-24 	23-16 	15-8 	7-0 	Description (byte) 	8 	X 	X 	X 	DATA 	Load bits 7-0 (X means not affected) (short)	16 	X 	X 	DATA 	DATA 	Load bits 15-0 (long) 	32 	DATA 	DATA 	DATA 	DATA 	Load bits 31-0 Instruction Replacement Table Term 	Replacement 		Meaning MEM 	*rP, *rP++, *rP--,	8-, 16-, or 32-bit memory location. ++ and -- are a function	*rP++rl			of the  datasize.				rP is a memory pointer (rP = r0-r22); when using the sp(r21),				the size of the transfer must be long.				rl is an increment register (rl = r0-r22) iorD 	ior0-ior15 		One of the IO registers RESTRICTION The IO register loaded cannot be referenced in the following instruction. A dauc load from memory must be followed by a CA instruction. NOP INSTRUCTION:	nop CLASS: CA-Control CAU FLAGS AFFECTED: None DESCRIPTION This instruction is a no-op instruction.This instruction causes execution of the following instruction to be delayed by one processor cycle. This is a special case of the if(COND) goto instruction in which the branch is never taken. OC INSTRUCTION: [Z =] aN = oc(Y) CLASS:DA-Special Function DAU FLAGS AFFECTED: None DESCRIPTION This instruction converts the floating-point operand specified by the Y field to an 8-bit µ-law, A-law, or unsigned linear value. The data type is specified by dauc register bits 3 and1: µ-law (dauc[3,11=0,1), A-law (dauc[3,11 = 0,0), unsigned (dauc[3,1]= 1,x). Conversion to unsigned can be done using one of three modes specified by the dauc register bits 4 and 5: round to nearest (dauc[5-4] = 00), truncate towards -oo(dauc[5-4] = 10), or truncate towards zero (dauc[5-4] = 11). The default (on reset) value of the dauc register is O. The Y operand can be a float memory location or an accumulator. The result is stored in the most significant byte of an accumulator (aN). The lower portion of the accumulator is written with unpredictable data. If the value of Y is outside the range of allowable µ-law/A-law/8-bit unsigned numbers, the limiting µ-law/A-law/8-bit unsigned value is returned. No flags are set if this saturation occurs. If a Z field is specified, the result is stored to a byte address in memory. When the post-increment or post-decrement addressing mode is used for the Z operand, the value of the modifier is +1 or -1, respectively. In order to execute the store as 8-bits, the Z-write must be performed in this instruction.Instruction Replacement Table Replace Value 		Meaning aN 	a0-a3 		One of the four DAU accumulators Y 	*rP, *rP++, 	32-bit memory location. ++ is +4 and-- is -4. 	*rP--,*rP++rl, 	rP refers to r1-14 and is used as a memory pointer.			rl refers to r15-19 and is used as an increment register. 	a0-a3 		One of the four DAU accumulators. Z 	*rP, *rP++, 	8-bit memory location. ++ is +1 and -- is -1. 	*rP--,*rP++rl	rP refers to r1-14 and is used as a memory pointer. 			rl refers to r15-19 and is used as an increment register. OR INSTRUCTION: 	rD = {[(long)],(short)} rD | N 			(1)		[if(COND)] rD = {[(long)], (short)} rS1 | rS2 	(2) CLASS: CA-Arithmetic/Logic CAU FLAGS AFFECTED:nz,v=c=0 DESCRIPTION These instructions perform bit-by-bit, logical OR operations. The items in brackets [ ] are optional. A 32-bit operation, (long), is the default size and does not have to be specified. (short) indicates that a 16-bit operation is desired. Flags are set according to the 16- or 32-bit operation flag rules, as specified by the instruction. (1) This instruction performs a bit-by-bit, logical OR operation on the contents of register rD with the value N and the result is placed in the register rD. N is a 16-bit 2's complement number that is MSB-extended to 32bits.(2) This instruction performs a bit-by-bit, logical OR operation on the contents of register rS1 with the contents of register rS2, and the result is placed in the register rD. If the instruction is conditionally executed and the COND is true, the result of the operation on rS1 and rS2 is placed in the register rD, and the flags are set. If the instruction is conditionally executed and the COND is false, neither the register rD nor the flags are affected. The COND field is the same as for the add operations.Instruction Replacement Table Term 	Replacement 	Meaning rD 	r0-r22 		r0 (hard-wired zero), or one of 22 CAU registers rS1,rS2 r0-r22 		r0 (hard-wired zero), or one of 22 CAU registers N 	16-bit number 	2's complement integer RETURN INSTRUCTION: 	return (rM) CLASS:CA-Control CAU FLAGS AFFECTED: None DESCRIPTION This instruction moves the value of rM into the program counter (pc). This is the special case of the unconditional goto instruction where only the CAU registers can be selected. Register rM holds the return address of a subroutine. This instruction is encoded and executes as "if (true)goto rM". This instruction disables interrupts for one instruction cycle. Instruction Replacement Table Term 	Replacement 	Meaning rM 	r1-r22 		One of 22 CAU registers. LATENCY When the above instruction is executed, the instruction immediately following is also executed before the branch occurs. ROTATE LEFT INSTRUCTION: 	[if (COND)] rD = {[(long)],(short)} rS <<< 1CLASS: CA-Arithmetic/Logic CAU FLAGS AFFECTED: nzvc DESCRIPTION This instruction performs rotate left through carry, i.e., shifts the contents of register rS to the left by one bit and shifts the carry from the previous instruction into bit 0. The result is placed in the register rD. The items in the brackets [ ] are optional. A 32-bit operation, (long), is the default size and does not have to be specified. (short) indicates that a 16-bit operation is desired. For the (short) operation, the result is sign extended from bit 15 to bit 31. Flags are set according to the 16- or 32-bit operation flag rules, as specified by the instruction. If the instruction is conditionally executed and the COND is true, the result is placed in the register rD, and the flags are set. If the instruction is conditionally executed and the COND is false, neither the register rD nor the flags are affected. The COND field is the same as for the add operations.Instruction Replacement Table Term 	Replacement 	MeaningrD 	r0-r22 		r0 (hard-wired zero), or one of 22 CAU registers rS 	r0-r22 		r0 (hard-wired zero), or one of 22 CAU registers ROTATE RIGHT INSTRUCTION: 	[if (COND)] rD= {[(long)],(short)} rS >>> 1 CLASS: CA-Arithmetic/Logic CAU FLAGS AFFECTED: nzc, v=0 DESCRIPTION This instruction performs rotate right through carry, i.e., shifts the contents of register rS to the right by one bit and shifts the carry from the previous instruction into the most significant bit (MSB). The result is placed in the register rD. The items in the brackets [ ] are optional. A 32-bit operation,(long), is the default size and does not have to be specified. (short) indicates that a 16-bit operation is desired. For the (short) operation, the carry is shifted into bit 15, and the result is sign extended from bit 15 to bit 31. Flags are set according to the 16- or 32-bit operationflag rules, as specified by the instruction. If the instruction is conditionally executed and theCOND is true, the result is placed in the register rD, and the flags are set. If the instruction is conditionally executed and the COND is false, neither the register rD nor the flags are affected. The COND field is the same as for the ADD operations.Instruction Replacement Table Term 	Replacement 	MeaningrD 	r0-r22 		r0 (hard-wired zero), or one of 22 CAU registers rS 	r0-r22 		r0 (hard-wired zero), or one of 22 CAU registersROUND INSTRUCTION: [Z =] aN = round(Y) CLASS:DA-Special Function DAU FLAGS AFFECTED: NZVU DESCRIPTION This instruction rounds the floating-point operand Y to 32-bit floating-point format. It is intended to operate on the contents of an accumulator that contains eight extra bits of precision in the mantissa (although other operands are allowed). The 40-bit operand is rounded to the nearest 32-bit representation and the result is stored in an accumulator (aN). The eight guard bits in the accumulator aN are set to zero. If the 40-bit operand is exactly between two 32-bit values, it is rounded to the greater value. The Y operand can specify an accumulator or a 32-bit memory location. If a Z field is specified, the result is also stored to a word address in memory.Instruction Replacement Table Replace Value 		Meaning aN 	a0-a3 		One of the four DAU accumulators Y 	*rP, *rP++, 	32-bit memory location. ++ is +4 and-- is -4. 	*rP--,*rP++rl, 	rP refers to r1-14 and is used as a memory pointer.			rl refers to r15-19 and is used as an increment register. 	a0-a3 		One of the four DAU accumulators. Z 	*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 	*rP--,*rP++rl	rP refers to r1-14 and is used as a memory pointer. 			rl refers to r15-19 and is used as an increment register. SEED INSTRUCTION: [Z =] aN = seed(Y) CLASS:DA-SpecialFunction DAU FLAGS AFFECTED: NZU, V=0 DESCRIPTION This instruction produces a seed (reciprocal of Y) with mantissa good to three bits of accuracy by inverting all bits of Y, except the signbit. The floating-point operand Y can specify a float memory location or an accumulator. The result is stored in an accumulator (aN). If a Z field is specified, the result is also stored to a word address in memory. Instruction Replacement Table Replace Value 		Meaning aN 	a0-a3 		One of the four DAU accumulators Y 	*rP, *rP++, 	32-bit memory location. ++ is +4 and-- is -4. 	*rP--,*rP++rl, 	rP refers to r1-14 and is used as a memory pointer.			rl refers to r15-19 and is used as an increment register. 	a0-a3 		One of the four DAU accumulators. Z 	*rP, *rP++, 	32-bit memory location. ++ is +4 and -- is -4. 	*rP--,*rP++rl	rP refers to r1-14 and is used as a memory pointer. 			rl refers to r15-19 and is used as an increment register. SET INSTRUCTION: 	rD = (short) N CLASS: CA-Data Move CAU FLAGS AFFECTED: nz, v=c=0 DESCRIPTION This instruction moves the value N into the register rD. N is a 16-bit 2's complement number that is MSB-extended to 32 bits. Flags are set according to 16-bit flag rules. The operation actually performed is "rD = r0 + N". Instruction Replacement Table Term 	Replacement 	MeaningrD 	r0-r22 		r0 (hard-wired zero), or one of 22 CAU registers N 	16-bit number	2's complement integer SET24 INSTRUCTION: 	rD = (ushort24) M CLASS:CA-DataMove CAU FLAGS AFFECTED: None DESCRIPTION This instruction moves the value M into register rD. M is a 24-bit unsigned integer that is zero extended to 32-bits. Instruction Replacement Table Term 	Replacement 	MeaningrD 	r0-r22 		r0 (hard-wired zero), or one of 22 CAU registers M 	24-bit number	unsigned integer  SFTRST INSTRUCTION:	sftrst CLASS: CA-Control CAU FLAGS AFFECTED: None DESCRIPTION This instruction performs a soft reset of the processor level. It is intended to be used only from the error level and it returns the processor to the base level. By resetting registers and branching to zero an emulation of reset can be accomplished. This instruction is encoded as spc=(byte)r0. SHIFT LEFT INSTRUCTION: 	rD = {[(long)], (short)} rD << N 		(1)		[if(COND)] rD= {[(long)], (short)} rS1 << rS2 	(2)		[if(COND)] rD= {[(long)], (short)} rS << 1 	(3) CLASS: CA-Arithmetic/Logic CAU FLAGSAFFECTED:nz,v=c=0 DESCRIPTION These instructions perform logical left shift operations. The items in brackets [ ] are optional. A 32-bit operation, (long),is the default size and does not have to be specified. A (long) left shift can be considered an arithmetic left shift, but note that overflow is not detected. (short) indicates that a 16-bit operation is desired. The (short) left shift is a logical left shift and the upper 16 bits of the result are zero. Flags are set according to the 16- or 32-bit operation flag rules, as specified by the instruction. If the instruction is conditionally executed and the COND is true, the result is placed in the register rD, and the flags are set. If the instruction is conditionally executed and the COND is false, neither the register rD nor the flags are affected. The COND field is the sameas for the add operations.(1) This instruction performs a logical left shift on the contents of register rD by N and the result is placed in the register rD. Only the least significant 5 bits of N are used to specify a shift of 0 to 31 binary places.(2) This instruction performs a logical left shift on the contents of register rS1 by the contents of register rS2, and the result is placed in the register rD. Only the least significant 5 bits of rS2 are used to specify a shift of 0 to 31 binary places.(3) This instruction performs a conditional logical left shift by one of the register rS and the result is placed in the register rD. Instruction Replacement Table Term 		Replacement 	Meaning rD 		r0-r22 		r0 (hard-wired zero), or one of 22 CAU registers rS, rS1, rS2 	r0-r22 		r0 (hard-wired zero), or one of 22 CAU registers N 		16-bit number 	2's complement integer SHIFT-OR INSTRUCTION: 	rD =[(long)] rS <<| N CLASS:CA-Arithmetic Logic CAU FLAGS AFFECTED: nz, v=c=0 DESCRIPTION This instruction is a shift and OR instruction. The value N is logically shifted to the left by 16 binary places and OR'ed with the contents of rS and the result is stored in the register rD. The instruction is always executed as 32bits,(long). Specification of(long) is optional. Flags are set according to 32-bit flag rules.Instruction Replacement Table Term 		Replacement 	Meaning rD 		r0-r22 		r0 (hard-wired zero), or one of 22 CAU registers rS	 	r0-r22 		r0 (hard-wired zero), or one of 22 CAU registers N 		16-bit number 	2's complement integer SHIFT RIGHT INSTRUCTION: 	rD = {[(long)], (short)} rD >> N 		(1)		[if(COND)] rD= {[(long)], (short)} rS1 >> rS2 	(2) 		[if(COND)] rD= {[(long)], (short)} rS >> 1 	(3) CLASS: CA-Arithmetic/Logic CAU FLAGS AFFECTED:nz,v=c=0 DESCRIPTION These instructions perform logical right shift operations. The items in brackets [ ] are optional. A 32-bit operation, (long), is the default size and does not have to be specified. (short) indicates that a 16-bit operation is desired. For the (short) logical right shift, the upper 16 bits of the result are zero. Flags are set according to the 16- or 32bit operation flag rules, as specified by the instruction. If the instruction is conditionally executed and the COND is true, the result is placed in the register rD, and the flags are set. If the instruction is conditionally executed and the COND is false, neither the register rD nor the flags are affected. The COND field is the same as for the add operations. (1) This instruction performs a logical right shift on the contents of register rD by N and the result is placed in the register rD. Only the least significant 5 bits of N are used to specify a shift of 0 to 31 binary places. (2) This instruction performs a logical right shift on the contents of register rS1 by the contents of register rS2, and the result is placed in the register rD. Only the least significant 5 bits of rS2 are used to specify a shift of 0 to 31 binaryplaces. (3) This instruction performs a conditional logical right shift by one of the register rS and the result is placed in the register rD. Instruction Replacement Table Term 		Replacement 	Meaning rD 		r0-r22 		r0 (hard-wired zero), or one of 22 CAU registers rS, rS1, rS2 	r0-r22 		r0 (hard-wired zero), or one of 22 CAU registers N 		16-bit number 	2's complement integer SHIFT RIGHT-ARITH INSTRUCTION: 	rD = {[(long)], (short)} rD $>> N		[if(COND)]rD= {[(long)], (short)}rS1 $>> rS2		[if(COND)]rD= {[(long)], (short)} rS / 2 CLASS: CA-Arithmetic/Logic CAU FLAGS AFFECTED:nz,v=c=0 DESCRIPTION These instructions perform arithmetic right shift operations. The itemsin brackets [ ] areoptional. A 32-bit operation,(long), is the default size and does not have to be specified. (short) indicates that a16-bit operation is desired. For the (short) arithmetic right shift, the result is sign extended from bit 15to bit 31. Flags are set accordingto the 16-or 32-bit operation flag rules, as specified by the instruction. If the instruction is conditionally executed and the COND is true, the result is placed in the register rD, and the flags are set. If the instruction is conditionally executed and the COND is false, neither the register rD nor the flags are affected. The COND field is the same as for the add operations. (1) This instruction performs an arithmetic right shift on the contents of register rD by Nandthe result is placed intheregisterrD. Only the least significant5bits ofNareusedto specify a shift of 0 to31binary places. (2) This instruction performs an arithmetic right shift on the contents of register rS1 by the contents of register rS2, and the result is placed in the register rD. Only the least significant 5 bits of rS2 are used to specify a shift of 0 to 31binary places. (3) This instruction performs a divide-by-twooperation; i.e., the arithmetic right shift with sign extension. The contents of register rS are divided by two, and the result is placed in register rD.Instruction Replacement Table Term Replacement MeaningrD 		r0-r22 	r0(hard-wiredzero), or one of 22 CAU registers rS,rS1,rS2 	r0-r22 	r0(hard-wiredzero), or one of 22 CAU registers N    		16-bit number 2'scomplement integer STORE INSTRUCTION: MEM = {(byte), (hbyte), (short), [(long))) rS (1)*L = {(byte), (hbyte), (short), [(long)]} rS (2) iorD = {(byte), (hbyte), (short), [(long)1} rS (3) CLASS:CA-DataMove CAU FLAGS AFFECTED: None DESCRIPTION This instruction moves data from the register rS to a memory location or 10 register specified on the left-handside. The default size of the transfer is (long) and does not have to be specified. The CAU register bits selectedand the size of the transfer are specified by the key words: (byte), (hbyte), (short), and (long). (byte) and(hbyte)are 8-bit transfers that select register bits 7-0 and 15-8 respectively. (short) is a 16-bit transfer that selectsregister bits 15-0. (long) is a 32-bit transfer that selects registers 31-0 (seebelow).(1)This instruction moves data from the register rS to a memory location addressed using the register indirectaddressing mode. Data can be written as 8-, 16-, or 32-bits. Post-incrementation and post-decrementation is afunction of the data size (8-bit, ±1; 16-bit, ±3; 32-bit, ±4).(2)This instruction moves data from the register rS to a memory location addressed using the direct addressingmode (*L). L is a 16-bit unsigned integer that is concatenated with the upper 16-bits representing the location ofon-chip memory resources (0x0000 or 0x5003, based on pcw[10]) to form the address.(3)This instruction moves data from the register rS to an 10 register. The transfer size and the size of theselected 10 register must be the same. Source CAU Register Bits Selected Type Size 31-24 23-16 15-8 7Ñ0 ,Description (byte) 8 X X X DATA Store bits 7-0 (hbyte) 8 X X DATA X Store bits 15-8 (short) 16 X X DATA DATA Store bits 15-0 (long) _ 32 _ DATA _ DATA _ DATA _ DATA _ Store bits 31-0 Instruction Replacement Table Term Replacement Meaning rS r0 r22, pc,poshr0 (hard-wired zero), one of 22 CAU registers, theprogramcounter, or the program counter shadowregister MEM *rP, *rP++, *rP--,8-, 16-, or 32-bit memorylocation. trP++r1 ++is +1,+2, or +4 for data transfer sizes of 8-, 16-, and 32-bits. -- is -1, -2, and Ñ4 for data transfer sizes of 8-, 16-, and 32-bits.rP is a memory pointer (rP = r0Ñr22); when using the sp(r21),the size of the transfer must be long.rl is an increment register (rl = r0 r22). iorD ior0Ñior15One of the 1Oregisters L 16-bit numberUnsigned integer - used as a direct address RESTRICTION A CAU or 10 register store instruction cannot immediately follow a DA instruction (multiply/accumulate orspecialfunction) that references memory in the Y field (see Section 4.4.1.2, Restriction 2 Ñ CAU and 10 RegisterStore). STORE-IOR INSTRUCTION: MEM = {(byte), (short), [(long)]} iorS CLASS:CA-DataMove CAU FLAGS AFFECTED: None DESCRIPTION This instruction moves data from an 10 register to a memory location. The default size of the transfer is (long)and does not have to be specified. The size of the transfer and the 10 register bits selected by the transfer arespecified by the key words: (byte), (short), and (long). (byte) is an 8-bit transfer that selects bits 7-0. (short) is a16-bit transfer that selects bits 15-0 . (long) is a 32-bit transfer that selects bits 31-0 (see below). Post-incrementation and post-decrementation is a function of the data size (8-bit, ±1; 16-bit, ±2, ; 32-bit, ±4).Source 10 Register Bits Selected Type Size. 31-24 23-16 15Ñ8 7-0 Description (byte) 8 X X X DATA Select bits7-0 (short) 16 X X DATA DATASelect bits15-0 (long) 32 DATA DATA_ DATA DATA Select bits 31-0 Instruction Replacement Table Term Replacement MeaningMEM *rP, *rP++, *rP--, 8-, 16-, or 32-bit memorylocation. *rP++r1 ++ is +1, +2, or +4 for data transfer sizes of 8-, 16-, and 32-bits.-- is -1, -2, and Ñ4 for data transfer sizes of 8-, 16-, and 32-bits.rP is a memory pointer (rP= r0Ñr22); when using the sp(r21),the size of the transfer must be long.rlisincrementan register (rl = r0r22). _iorS _ ior0 iorl 5 One of the 10 registers RESTRICTION ACAUor 10 register store instruction cannot immediately follow a DA instruction (multiply/accumulate or specialfunction) that references memory in the Y field (see Section 4.4.1.2, Restriction 2 Ñ CAU and 10 Register Store). SUBTRAC INSTRUCTION: rD = {[(long)], (short)} rD -N ( 1 )rD= {[(long)], (short)}N -rD ( 2 )[if(COND)]rD= {[(long)], (short)}rS1 -rS2 (3)[if(COND)]rD= {[(long)], (short)} -rS (4) CLASS: CA-Arithmetic/Logic CAUFLAGSAFFECTED: nzvc DESCRIPTION Theseinstructionsperformsubtractoperations.The items inbrackets [ ] are optional. A 32-bit operation,(long),isthe default sizeanddoesnothavetobespecified. (short) indicates that a16-bit operation is desired. A (short)operationsignextendsthe resultfrom bit 15to bit 31. Flags aresetaccording to the16-or 32-bit operation flagrules(seeTable 4-1),asspecifiedbythe instruction. If theinstruction is conditionallyexecutedandthe COND istrue,the result is placed in the registerrD,andthe flagsareset. If theinstruction is conditionally executed andtheCONDis false, neitherthe registerrDnortheflagsareaffected. TheCONDfield isthesameas for the addoperations(seepage4-32).(1) is a right subtract instruction. This instructionsubtractsthevalueNfrom thecontents of registerrD andplacesthe result in the register rD. N is a16-bit 2'scomplementnumberthat isMSB-extendedto32bits.(2) is a left subtract instruction. This instructionsubtractsthecontents of registerrDfroma valueNandplacestheresult in the register rD. N is a 2'scomplementnumberthat isMSB-extendedto 32bits.(3) is a conditional triadic subtract instruction. This instructionsubtractsthecontents of registerrS2fromregisterrS1andplacesthe result in rD.(4) conditionallychangesthesign of thecontents of registerrS. The result isplaced in registerrD. This negateinstructionsetsoverflowflagvtoone(v=1) for rS=0xfff8000 and setscarry flagcto zero(c=0) for rS=0x00000000;in all othercases v =0, c = 1. InstructionReplacement Table Term Replacement MeaningrD r0Ñr22 r0(hard-wiredzero), oroneof22CAUregistersrS,rS1,rS2 r0r22 r0(hard-wiredzero), oroneof22CAUregisters N 16-bitnumber 2'scomplement integer 4-83 SUBTRACT INSTRUCTION (cont.): rD = {[(long)], (short)} rD -N rD = {[(long)], (short)} N -rD [if(COND)] rD = {[(long)] (short)} rS1 -rS2 [if(COND)] rD = {[(long)], (short)} -rS WAITI INSTRUCTION:waiti CLASS:CA-Control CAU FLAGS AFFECTED: None DESCRIPTION This instruction initiates the wait-for-interrupt mode. The wait-for-interrupt mode is a power-saving mode thatstops operations in the CAU and DAU until an interrupt is recognized. If an interrupt is pending when the waitiinstruction is executed, the waitiinstruction is ignored. A nopinstruction should always follow the waiti instructionbecause when the interrupt is recognized this instruction is executed before the interrupt is taken. It should onlybe executed from the base level. This instruction is encoded asspc=(long)r0. 